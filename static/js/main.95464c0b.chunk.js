(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(7),r=n.n(o),s=(n(13),n(1)),l=n(2),c=n(4),u=n(3),h=(n(14),n(5)),f=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.style,o=Object(h.a)(Object(h.a)({},a),{},{left:"".concat(v*t+1,"px"),top:"".concat(v*n+1,"px"),width:"".concat(v-1,"px"),height:"".concat(v-1,"px")});return i.a.createElement("div",{className:"Cell",style:o})}}]),n}(i.a.Component),v=20,m=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={cells:[],interval:100,isRunning:!1,frequency:20},a.saved=[[]],a.rows=void 0,a.cols=void 0,a.board=void 0,a.boardRef=void 0,a.timeoutHandler=void 0,a.rows=600/v,a.cols=800/v,a.board=a.makeEmptyBoard(),a}return Object(l.a)(n,[{key:"getElementOffset",value:function(){var e=this.boardRef.getBoundingClientRect(),t=document.documentElement;return{x:e.left+window.pageXOffset-t.clientLeft,y:e.top+window.pageYOffset-t.clientTop}}},{key:"handleClick",value:function(e){var t=this.getElementOffset(),n=e.clientX-t.x,a=e.clientY-t.y,i=Math.floor(n/v),o=Math.floor(a/v);i>=0&&i<=this.cols&&o>=0&&o<=this.rows&&(this.board[o][i].isAlive=!this.board[o][i].isAlive),this.setState({cells:this.makeCells()})}},{key:"clear",value:function(){this.board=this.makeEmptyBoard(),this.setState({cells:this.makeCells()})}},{key:"makeEmptyBoard",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.cols;n++)e[t][n]={isAlive:!1,style:""}}return e}},{key:"runGame",value:function(){this.saved=this.board.map((function(e){return e.slice()})),this.setState({isRunning:!0}),this.runIteration()}},{key:"runIteration",value:function(){for(var e=this,t=this.makeEmptyBoard(),n=0;n<this.rows;n++)for(var a=0;a<this.cols;a++){var i=this.getNeighbors(this.board,n,a);this.board[n][a].isAlive?t[n][a].isAlive=2===i||3===i:3===i&&(t[n][a].isAlive=!0)}this.board=t,this.setState({cells:this.makeCells()}),this.timeoutHandler=window.setTimeout((function(){e.runIteration()}),this.state.interval)}},{key:"getNeighbors",value:function(e,t,n){for(var a=[],i=-1;i<2;i++)for(var o=-1;o<2;o++)0===i&&0===o||e[t+i]&&a.push(e[t+i][n+o]);return a.filter((function(e){return e&&!0===e.isAlive})).length}},{key:"stopGame",value:function(){this.setState({isRunning:!1}),this.timeoutHandler&&(clearTimeout(this.timeoutHandler),this.timeoutHandler=null)}},{key:"handleIntervalChange",value:function(e){this.setState({interval:e.target.value})}},{key:"makeCells",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.cols;n++)this.board[t][n].isAlive&&e.push({x:n,y:t,style:this.board[t][n].style});return e}},{key:"random",value:function(){for(var e=this.makeEmptyBoard(),t=0;t<this.rows;t++)for(var n=0;n<this.cols;n++){var a=Math.floor(Math.random()*Math.floor(100));e[t][n].isAlive=a<this.state.frequency}this.board=e,this.setState({cells:this.makeCells()})}},{key:"handleFrequencyChange",value:function(e){e.target.value>100?e.target.value=100:e.target.value<0&&(e.target.value=1),this.setState({frequency:e.target.value})}},{key:"undo",value:function(){this.board=this.saved,this.setState({cells:this.makeCells()})}},{key:"render",value:function(){var e=this,t=this.state.cells;return i.a.createElement("div",null,i.a.createElement("div",{onClick:function(t){return e.handleClick(t)},ref:function(t){e.boardRef=t},className:"Board",style:{width:800,height:600,backgroundSize:"".concat(v,"px ").concat(v,"px")}},t.map((function(e){return i.a.createElement(f,{style:e.style,x:e.x,y:e.y,key:"".concat(e.x,",").concat(e.y)})}))),i.a.createElement("div",{className:"controls",style:{color:"white",textAlign:"center"}},"Update every ",i.a.createElement("input",{onChange:function(t){return e.handleIntervalChange(t)},value:this.state.interval})," ms",this.state.isRunning?i.a.createElement("button",{className:"button",onClick:function(){return e.stopGame()}},"Stop"):i.a.createElement("button",{className:"button",onClick:function(){return e.runGame()}},"Run"),i.a.createElement("button",{className:"button",onClick:function(){return e.clear()}},"Clear"),i.a.createElement("button",{className:"button",onClick:function(){return e.undo()}},"Undo"),i.a.createElement("button",{className:"button",onClick:function(){return e.random()}},"Random"),i.a.createElement("input",{onChange:function(t){return e.handleFrequencyChange(t)},value:this.state.frequency})," % of cells"))}}]),n}(i.a.Component);n(15);var d=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.95464c0b.chunk.js.map